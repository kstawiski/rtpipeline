# Snakemake configuration for rtpipeline

# Input/Output directories
dicom_root: "/projekty/Prostata/Data_raw/DICOM"
output_dir: "/projekty/Prostata/LK/Data_Snakemake"
logs_dir: "/projekty/Prostata/LK/Logs_Snakemake"

# Processing parameters
# See config.yaml for detailed explanation of parallelization settings
# Defaults: pipeline auto-derives workers = min(--cores, physical cores) - 1.
# Optional: set max_workers to a specific number (e.g., 2-3 for NFS storage).
max_workers: null

scheduler:
  reserved_cores: 1
  dvh_threads_per_job: 4
  radiomics_threads_per_job: 6
  qc_threads_per_job: 2
  prioritize_short_courses: true

segmentation:
  workers: null  # Auto => sequential on GPU/MPS, worker budget on CPU. Override for multi-GPU hosts.
  force: false  # Set true to re-run segmentation even when outputs exist
  fast: false
  roi_subset: null
  extra_models: []   # Optional list of additional TotalSegmentator tasks, e.g. ["lung_vessels"]
  device: "gpu"
  force_split: true

radiomics:
  sequential: false
  params_file: "rtpipeline/radiomics_params.yaml"

# Environment names
environments:
  main: "rtpipeline"          # NumPy 2.x for TotalSegmentator
  radiomics: "rtpipeline-radiomics"  # NumPy 1.x for PyRadiomics

# Custom structures configuration
custom_structures: "custom_structures_pelvic.yaml"

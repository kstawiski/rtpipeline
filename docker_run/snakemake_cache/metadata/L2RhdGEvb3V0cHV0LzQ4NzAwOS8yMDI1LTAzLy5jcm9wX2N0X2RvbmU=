{"record_format_version": 6, "code": "        import subprocess\n        job_threads = max(1, threads)\n        sentinel_path = Path(output.sentinel)\n        sentinel_path.parent.mkdir(parents=True, exist_ok=True)\n        log_path = Path(log[0])\n        log_path.parent.mkdir(parents=True, exist_ok=True)\n        env = _rt_env()\n        cmd = [\n            sys.executable,\n            \"-m\",\n            \"rtpipeline.cli\",\n            \"--dicom-root\", str(DICOM_ROOT),\n            \"--outdir\", str(OUTPUT_DIR),\n            \"--logs\", str(LOGS_DIR),\n            \"--stage\", \"crop_ct\",\n            \"--course-filter\", f\"{wildcards.patient}/{wildcards.course}\",\n        cmd.extend(_max_worker_args(job_threads))\n        with log_path.open(\"w\") as logf:\n        with log_path.open(\"w\") as logf:\n            subprocess.run(cmd, check=True, stdout=logf, stderr=subprocess.STDOUT, env=env)\n        sentinel_path.write_text(\"ok\\n\", encoding=\"utf-8\")\n", "rule": "crop_ct_course", "input": ["/data/output/487009/2025-03/.custom_models_done", "/data/output/487009/2025-03/.segmentation_done", "/data/output/_COURSES/manifest.json"], "log": ["/data/logs/crop_ct/487009_2025-03.log"], "params": [], "shellcmd": null, "incomplete": false, "starttime": null, "endtime": 1764076847.756843, "job_hash": 8280608934935, "conda_env": "bmFtZTogcnRwaXBlbGluZQpjaGFubmVsczoKICAtIHB5dG9yY2gKICAtIG52aWRpYQogIC0gY29uZGEtZm9yZ2UKICAtIGRlZmF1bHRzCmRlcGVuZGVuY2llczoKICAtIHB5dGhvbj0zLjExCiAgLSBudW1weT49Mi4wCiAgLSBzY2lweT49MS4xMQogIC0gcGFuZGFzPj0yLjAKICAtIG1hdHBsb3RsaWI+PTMuOAogIC0gc2Npa2l0LWxlYXJuCiAgLSBzY2lraXQtaW1hZ2UKICAtIHB5ZGljb20+PTMuMC4wCiAgLSBTaW1wbGVJVEs+PTIuNS4wCiAgLSBweXRvcmNoPTIuMy4qCiAgLSB0b3JjaHZpc2lvbj0wLjE4LioKICAtIHRvcmNoYXVkaW89Mi4zLioKICAtIHB5dG9yY2gtY3VkYT0xMi4xCiAgLSBuaWJhYmVsCiAgLSBkY20ybmlpeAogIC0gbm51bmV0PTEuNy4qCiAgLSBiYXRjaGdlbmVyYXRvcnMKICAtIGZ1dHVyZQogIC0gcGlwCiAgLSBwaXA6CiAgICAtIFRvdGFsU2VnbWVudGF0b3I+PTIuNC4wICAjIFVzZSBsYXRlc3Qgc3RhYmxlIHZlcnNpb24KICAgIC0gZGljb21weWxlci1jb3JlPj0wLjUuNgogICAgLSBydC11dGlscwogICAgLSB4bHN4d3JpdGVyCiAgICAtIG9wZW5weXhsCiAgICAtIHBsb3RseQo=", "software_stack_hash": "17473a616c4f77818afe1b5cddda01ba", "container_img_url": null, "input_checksums": {"/data/output/_COURSES/manifest.json": "bc7a0a848986b386ece1525e7b608ffd77dd3163ffbce6a8a4f476889a09a922", "/data/output/487009/2025-03/.segmentation_done": "dc51b8c96c2d745df3bd5590d990230a482fd247123599548e0632fdbf97fc22", "/data/output/487009/2025-03/.custom_models_done": "dc51b8c96c2d745df3bd5590d990230a482fd247123599548e0632fdbf97fc22"}}